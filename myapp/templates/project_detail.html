<!-- prettier-ignore -->
{% extends 'myapp/base.html' %}

{% block title %}Project: {{ project.name }}{% endblock %}

{% block content %}
<h2>Project: {{ project.name }}</h2>
<p>
  <a href="{% url 'edit_project' project.id %}">Edit Project</a> |
  <a
    href="{% url 'delete_project' project.id %}"
    onclick="return confirm('Delete this project and all its tasks?')"
    >Delete Project</a
  >
</p>

<h3>Tasks</h3>
<ul>
  {% for task in tasks %}
  <li>
    <strong>{{ task.title }}</strong> - {{ task.get_status_display }}<br />
    <em>{{ task.description }}</em><br />
    <a href="{% url 'edit_task' task.id %}">Edit</a> |
    <a
      href="{% url 'delete_task' task.id %}"
      onclick="return confirm('Are you sure you want to delete this task?')"
      >Delete</a
    >
  </li>
  {% empty %}
  <li>No tasks yet.</li>
  {% endfor %}
</ul>

<h3>Add Task</h3>
<form method="post">
  {% csrf_token %} {{ form.as_p }}
  <button type="submit">Create Task</button>
</form>

<p><a href="{% url 'projects_list' %}">Back to Projects</a></p>
{% endblock %}
